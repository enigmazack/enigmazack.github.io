<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;enigmaz.gitee.io&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}</script><script src="/js/config.js"></script>
<meta name="description" content="音轨的处理经常被忽视，其实个人认为重编码作品没有必要保留高清音轨，毕竟能有相应设备播放的人毕竟是少数。既然是为了节省体积才做的重编码，就应该在更多的地方考虑到节省，音轨就是个很好的处理对象。">
<meta property="og:type" content="article">
<meta property="og:title" content="蓝光原盘压制中的音频处理">
<meta property="og:url" content="https://enigmaz.gitee.io/2020/03/25/audio-eac3to-ffmpeg/index.html">
<meta property="og:site_name" content="EniGmAz">
<meta property="og:description" content="音轨的处理经常被忽视，其实个人认为重编码作品没有必要保留高清音轨，毕竟能有相应设备播放的人毕竟是少数。既然是为了节省体积才做的重编码，就应该在更多的地方考虑到节省，音轨就是个很好的处理对象。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-03-25T13:05:26.000Z">
<meta property="article:modified_time" content="2021-06-02T15:25:34.450Z">
<meta property="article:author" content="enigmaz">
<meta property="article:tag" content="audio.encode">
<meta property="article:tag" content="dolby">
<meta property="article:tag" content="ffmpeg">
<meta property="article:tag" content="eac3to">
<meta property="article:tag" content="opus">
<meta property="article:tag" content="dts">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://enigmaz.gitee.io/2020/03/25/audio-eac3to-ffmpeg/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;enigmaz.gitee.io&#x2F;2020&#x2F;03&#x2F;25&#x2F;audio-eac3to-ffmpeg&#x2F;&quot;,&quot;path&quot;:&quot;2020&#x2F;03&#x2F;25&#x2F;audio-eac3to-ffmpeg&#x2F;&quot;,&quot;title&quot;:&quot;蓝光原盘压制中的音频处理&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>蓝光原盘压制中的音频处理 | EniGmAz</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">EniGmAz</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86"><span class="nav-number">1.</span> <span class="nav-text">预备知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9F%B3%E8%BD%A8%E7%BC%96%E7%A0%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">1.1.</span> <span class="nav-text">音轨编码的分类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#core"><span class="nav-number">1.1.1.</span> <span class="nav-text">core</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%AB%E5%90%8D%E4%B8%8E%E7%BC%A9%E5%86%99"><span class="nav-number">1.1.2.</span> <span class="nav-text">别名与缩写</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AHD%E9%87%8D%E7%BC%96%E7%A0%81%E6%95%99%E7%A8%8B%E4%B8%AD%E7%9A%84%E6%A0%87%E5%87%86"><span class="nav-number">2.</span> <span class="nav-text">AHD重编码教程中的标准</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B"><span class="nav-number">3.</span> <span class="nav-text">案例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Jumanji-The-Next-Level-2019"><span class="nav-number">3.1.</span> <span class="nav-text">Jumanji: The Next Level [2019]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Jojo-Rabbit-2019"><span class="nav-number">3.2.</span> <span class="nav-text">Jojo Rabbit [2019]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1917"><span class="nav-number">3.3.</span> <span class="nav-text">1917</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%82%B9%E8%AF%84"><span class="nav-number">3.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%B1%BB%E5%A4%84%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">分类处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#LPCM"><span class="nav-number">4.1.</span> <span class="nav-text">LPCM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#REMUX"><span class="nav-number">4.2.</span> <span class="nav-text">REMUX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UHD%E5%8E%9F%E7%9B%98%E9%87%8D%E7%BC%96%E7%A0%81"><span class="nav-number">4.3.</span> <span class="nav-text">UHD原盘重编码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BD%E5%8E%9F%E7%9B%98%E9%87%8D%E7%BC%96%E7%A0%81"><span class="nav-number">4.4.</span> <span class="nav-text">BD原盘重编码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#core%E7%9A%84%E6%8F%90%E5%8F%96"><span class="nav-number">5.</span> <span class="nav-text">core的提取</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#thd-ac3"><span class="nav-number">5.1.</span> <span class="nav-text">thd+ac3</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ffmpeg%E5%A4%84%E7%90%86"><span class="nav-number">5.1.1.</span> <span class="nav-text">ffmpeg处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eac3to%E5%A4%84%E7%90%86"><span class="nav-number">5.1.2.</span> <span class="nav-text">eac3to处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C"><span class="nav-number">5.1.3.</span> <span class="nav-text">比较结果</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DTS-HD-Master-Audio"><span class="nav-number">5.2.</span> <span class="nav-text">DTS-HD Master Audio</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ffmpeg"><span class="nav-number">5.2.1.</span> <span class="nav-text">ffmpeg</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eac3to"><span class="nav-number">5.2.2.</span> <span class="nav-text">eac3to</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9F%B3%E9%A2%91%E9%87%8D%E7%BC%96%E7%A0%81"><span class="nav-number">6.</span> <span class="nav-text">音频重编码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DDP-7-1"><span class="nav-number">6.1.</span> <span class="nav-text">DDP 7.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Opus"><span class="nav-number">6.2.</span> <span class="nav-text">Opus</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ffmpeg%E5%A4%84%E7%90%86-1"><span class="nav-number">6.2.1.</span> <span class="nav-text">ffmpeg处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eac3to%E5%A4%84%E7%90%86-1"><span class="nav-number">6.2.2.</span> <span class="nav-text">eac3to处理</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">enigmaz</p>
  <div class="site-description" itemprop="description">随便写写</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://enigmaz.gitee.io/2020/03/25/audio-eac3to-ffmpeg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="enigmaz">
      <meta itemprop="description" content="随便写写">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EniGmAz">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          蓝光原盘压制中的音频处理
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-25 21:05:26" itemprop="dateCreated datePublished" datetime="2020-03-25T21:05:26+08:00">2020-03-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-02 23:25:34" itemprop="dateModified" datetime="2021-06-02T23:25:34+08:00">2021-06-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%8E%8B%E5%88%B6/" itemprop="url" rel="index"><span itemprop="name">压制</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>音轨的处理经常被忽视，其实个人认为重编码作品没有必要保留高清音轨，毕竟能有相应设备播放的人毕竟是少数。既然是为了节省体积才做的重编码，就应该在更多的地方考虑到节省，音轨就是个很好的处理对象。</p>
<span id="more"></span>

<h2 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h2><h3 id="音轨编码的分类"><a href="#音轨编码的分类" class="headerlink" title="音轨编码的分类"></a>音轨编码的分类</h3><p>蓝关标准中的音轨编码有</p>
<ul>
<li>LPCM</li>
<li>Dolby Digital / AC-3</li>
<li>Dolby Digital Plus / E-AC-3</li>
<li>Dolby Lossless / Dolby TrueHD</li>
<li>DTS digital surround</li>
<li>DTS-HD</li>
<li>DRA</li>
<li>DRA Extension</li>
</ul>
<p>LPCM是一种非压缩格式，蓝光电影极少采用。</p>
<p>Dolby Atoms / DTS:X 没有单独列出来，可以看做是Dolby TrueHD / DTS-HD MA 在7.1声道之上的升级版。主要出现在UHD原盘上。</p>
<p>Dolby Atoms / DTS:X本身是向下兼容Dolby TrueHD / DTS-HD MA 的。</p>
<p>最后两个是我国的国标，虽然被强行塞进了蓝光标准，迄今为止据说还没有实例。</p>
<table>
<thead>
<tr>
<th align="center">杜比系</th>
<th align="center">DTS系</th>
<th align="center">声道</th>
<th align="center">常见情况</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Dolby Atoms</td>
<td align="center">DTS:X</td>
<td align="center">Object</td>
<td align="center">最高规格，UHD原盘常见</td>
</tr>
<tr>
<td align="center">Dolby TrueHD</td>
<td align="center">DTS-HD Master Audio</td>
<td align="center">7.1 / 5.1</td>
<td align="center">BD常见最高规格，UHD次高规格</td>
</tr>
<tr>
<td align="center">E-AC-3</td>
<td align="center">DTS-HD</td>
<td align="center">7.1 / 5.1</td>
<td align="center">常用于非主语言的音轨</td>
</tr>
<tr>
<td align="center">AC-3</td>
<td align="center">DTS</td>
<td align="center">5.1</td>
<td align="center">常用于非主语言的音轨</td>
</tr>
</tbody></table>
<h4 id="core"><a href="#core" class="headerlink" title="core"></a>core</h4><p>DTS-HD Master Audio 的是一定有一个DTS core的，它是整个音轨不可或缺的一部分，这个core可以用软件无损提取出来</p>
<p>Dolby TrueHD 也可以含有AC-3 core，但是这个core不是必备的，其实带core的Dolby TrueHD相当于是两条音轨，都可以单独播放。在蓝关标准中规定Dolby TrueHD一定要带core，这是出于播放器兼容考虑的。用软件很容易将Dolby TrueHD的core分离出来。</p>
<h4 id="别名与缩写"><a href="#别名与缩写" class="headerlink" title="别名与缩写"></a>别名与缩写</h4><p>AC-3 / Dolby Digital (DD) 是一回事。<code>DD 5.1</code>是指5.1声道的AC-3。AC-3最高支持5.1声道。AC3不带杠一般和AC-3同义，或者特指符合AC-3标准但未获Dolby授权的音频格式。</p>
<p>E-AC-3 / Dolby Digital Plus (DDP) 是一回事。E-AC-3是AC-3的升级，E-AC-3支持7.1声道。</p>
<p>A/52 是一个标准的名称，它有两个版本。版本A就是AC-3，版本B是E-AC-3。所以A/52也可以看做是一回事。</p>
<p>DCA 是 DTS Coherent Acoustics的缩写，和我们讨论的DTS也是一回事。</p>
<h2 id="AHD重编码教程中的标准"><a href="#AHD重编码教程中的标准" class="headerlink" title="AHD重编码教程中的标准"></a>AHD重编码教程中的标准</h2><table>
<thead>
<tr>
<th align="center">源音轨类型</th>
<th align="center">声道</th>
<th align="center">2160p</th>
<th align="center">1080P</th>
<th align="center">720p</th>
</tr>
</thead>
<tbody><tr>
<td align="center">无损</td>
<td align="center">全景声 %</td>
<td align="center">DTS-HD/THD</td>
<td align="center">1280 EAC3</td>
<td align="center">5.1 640 AC3</td>
</tr>
<tr>
<td align="center">无损</td>
<td align="center">6.1 / 7.1</td>
<td align="center">1536 EAC3 #</td>
<td align="center">1280 EAC3</td>
<td align="center">5.1 640 AC3</td>
</tr>
<tr>
<td align="center">无损</td>
<td align="center">5.1</td>
<td align="center">640 AC3 #</td>
<td align="center">640 AC3</td>
<td align="center">640 AC3</td>
</tr>
<tr>
<td align="center">无损</td>
<td align="center">1.0 / 2.0</td>
<td align="center">FLAC / Opus / AAC *</td>
<td align="center">FLAC / Opus / AAC *</td>
<td align="center">FLAC / Opus / AAC *</td>
</tr>
<tr>
<td align="center">有损</td>
<td align="center">任何</td>
<td align="center">丢弃</td>
<td align="center">丢弃</td>
<td align="center">丢弃</td>
</tr>
<tr>
<td align="center">评论音轨</td>
<td align="center">任何</td>
<td align="center">Opus / AAC</td>
<td align="center">Opus / AAC</td>
<td align="center">Opus / AAC</td>
</tr>
</tbody></table>
<p>% 指X或者Atoms音轨，常见于UHD蓝关原盘</p>
<p># 源音轨也可以接受</p>
<p>* 或者其他合理格式</p>
<p>它这里源音轨类型的无损并不是指无损编码，而是指蓝光源中最高规格的音轨。</p>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><h3 id="Jumanji-The-Next-Level-2019"><a href="#Jumanji-The-Next-Level-2019" class="headerlink" title="Jumanji: The Next Level [2019]"></a>Jumanji: The Next Level [2019]</h3><p>UHD</p>
<ul>
<li>[#1] DTS:X Master Audio / 7.1-X / 48 kHz / 6291 kbps / 24-bit (DTS Core: 5.1 / 48 kHz / 1509 kbps / 24-bit)</li>
<li>[#2] Dolby Digital Audio / 5.1 / 48 kHz / 640 kbps</li>
</ul>
<p>x265-2160p</p>
<ul>
<li>[HQMUX] / [HDChina] / [BeiTai] DTS:X Master Audio / 7.1-X - 直接拷贝[#1]</li>
</ul>
<p>x265-1080p</p>
<ul>
<li>[D-ZON3]  Dolby Digital Plus / 7.1 / 48 kHz / 1536 kbps - 重编码[#1]</li>
<li>[DON]  Dolby Digital Plus / 7.1 / 48 kHz / 1536 kbps - 重编码[#1]</li>
</ul>
<p>BD</p>
<ul>
<li>[#1] DTS-HD Master Audio / 5.1 / 48 kHz / 3725 kbps / 24-bit (DTS Core: 5.1 / 48 kHz / 1509 kbps / 24-bit)</li>
<li>[#2] Dolby Digital Audio / 5.1 / 48 kHz / 640 kbps / DN -31dB</li>
</ul>
<p>x264-1080p</p>
<ul>
<li>[LoRD] Dolby Digital Plus / 5.1 / 1536 kbps - 重编码[UHD#1]</li>
<li>[DON] / [iFT] Dolby Digital Plus / 7.1 / 1536 kbps - 重编码[UHD#1]</li>
<li>[HDChina] DTS-HD Master Audio / 5.1 / 3725 kbps - 直接拷贝[#1]</li>
<li>[CHD] / [WiKi] DTS / 5.1 / 1509 kbps - 提取内核[#1]</li>
</ul>
<p>x264-720p</p>
<ul>
<li>[LoRD] / [iFT] / [WiKi] Dolby Digital Audio / 5.1 / 640 kbps - 直接拷贝[#2]</li>
<li>[HDChina]  DTS / 5.1 / 1509 kbps - 提取内核[#1]</li>
</ul>
<h3 id="Jojo-Rabbit-2019"><a href="#Jojo-Rabbit-2019" class="headerlink" title="Jojo Rabbit [2019]"></a>Jojo Rabbit [2019]</h3><p>UHD</p>
<ul>
<li>[#1] DTS-HD Master Audio / 5.1 / 48 kHz / 3341 kbps / 24-bit (DTS Core: 5.1 / 48 kHz / 1509 kbps / 24-bit)</li>
<li>[#2] Dolby Digital Audio / 5.1 / 48 kHz / 448 kbps / DN -31dB</li>
<li>[评论] Dolby Digital Audio / 2.0 / 48 kHz / 224 kbps / DN -31dB</li>
</ul>
<p>x265-2160p</p>
<ul>
<li>[HDChina] / [CHD] DTS-HD Master Audio / 5.1 / 3341 kbps - 直接拷贝[#1]</li>
<li>[BeiTai]<ul>
<li>DTS-HD Master Audio / 5.1 / 3341 kbps - 直接拷贝[#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论] - 比特率标错?</li>
</ul>
</li>
<li>[beAst]<ul>
<li>DTS-HD Master Audio / 5.1 / 3341 kbps - 直接拷贝[#1]</li>
<li>Dolby Digital Audio / 5.1 / 448 kbps - 直接拷贝[#2] - 视觉描述</li>
<li>Dolby Digital Audio / 2.0 / 224 kbps - 直接拷贝[评论]</li>
</ul>
</li>
</ul>
<p>x265-1080p</p>
<ul>
<li>[D-ZON3] Dolby Digital Plus / 5.1 / 48 kHz / 768 kbps - 重编码[#1]</li>
<li>[PTer]<ul>
<li>DTS / 5.1 / 1509 kbps - 提取内核[#1]</li>
<li>AAC / 2.0  / 80.3 kbps - 重编码[评论]</li>
</ul>
</li>
</ul>
<p>BD</p>
<ul>
<li>[#1] DTS-HD Master Audio / 5.1 / 48 kHz / 3341 kbps / 24-bit (DTS Core: 5.1 / 48 kHz / 1509 kbps / 24-bit)</li>
<li>[#2] Dolby Digital Audio / 5.1 / 48 kHz / 448 kbps / DN -31dB</li>
<li>[评论] Dolby Digital Audio / 2.0 / 48 kHz / 224 kbps / DN -31dB</li>
</ul>
<p>x264-1080p</p>
<ul>
<li>[DON] / [iFT]<ul>
<li>DTS / 5.1 / 1509 kbps - 提取内核[#1]</li>
<li>Dolby Digital Audio / 2.0 / 224 kbps - 直接拷贝[评论]</li>
</ul>
</li>
<li>[WiKi] DTS / 5.1 / 1509 kbps - 提取内核[#1]</li>
<li>[HDChina] / [CHD] DTS-HD Master Audio / 5.1 / 3341 kbps - 直接拷贝[#1]</li>
</ul>
<p>x264-720p</p>
<ul>
<li>[TayTO] / [iFT]<ul>
<li>Dolby Digital Audio / 5.1 / 640 kbps - 重编码[#1]</li>
<li>Dolby Digital Audio / 2.0 / 224 kbps - 直接拷贝[评论]</li>
</ul>
</li>
<li>[WiKi] Dolby Digital Audio / 5.1 / 640 kbps - 重编码[#1]</li>
<li>[HDChina] DTS / 5.1 / 1509 kbps - 提取内核[#1]</li>
</ul>
<h3 id="1917"><a href="#1917" class="headerlink" title="1917"></a>1917</h3><p>UHD</p>
<ul>
<li>[#1] Dolby TrueHD/Atmos Audio / 7.1-Atmos / 48 kHz / 4258 kbps / 24-bit (AC3 Core: 5.1 / 48 kHz / 448 kbps)</li>
<li>[评论#1] Dolby Digital Audio / 2.0 / 48 kHz / 192 kbps</li>
<li>[评论#2] Dolby Digital Audio / 2.0 / 48 kHz / 192 kbps</li>
</ul>
<p>x265-2160p</p>
<ul>
<li>[HDMUX]<ul>
<li>Dolby TrueHD/Atmos Audio / 7.1-Atmos / 4258 kbps - 直接拷贝[#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#?]</li>
</ul>
</li>
<li>[HDChina]<ul>
<li>Dolby TrueHD/Atmos Audio / 7.1-Atmos / 4258 kbps - 直接拷贝[#1]</li>
<li>Dolby Digital Audio / 5.1 / 448 kbps - 提取核心[#1]</li>
</ul>
</li>
<li>[BeiTai]<ul>
<li>Dolby TrueHD/Atmos Audio / 7.1-Atmos / 4258 kbps - 直接拷贝[#1]</li>
<li>Dolby Digital Audio / 5.1 / 448 kbps - 提取核心[#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#2]</li>
</ul>
</li>
<li>[CHD]<ul>
<li>Dolby TrueHD/Atmos Audio / 7.1-Atmos / 4258 kbps - 直接拷贝[#1]</li>
</ul>
</li>
</ul>
<p>x265-1080p</p>
<ul>
<li>[NCmt]<ul>
<li>Dolby Digital Plus / 7.1 / 1536 kbps (AC3 Core: 5.1 / 640 kbps) - 重编码[#1]</li>
<li>Opus / 2.0 / ~ 72.05 kbps - 重编码[评论#1]</li>
<li>Opus / 2.0 / ~ 72.05 kbps - 重编码[评论#2]</li>
</ul>
</li>
<li>[DON]<ul>
<li>Dolby Digital Plus / 7.1 / 1536 kbps - 重编码[#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#2]</li>
</ul>
</li>
<li>[beAst] / [CHD] Dolby TrueHD/Atmos Audio / 7.1-Atmos / 3810 kbps - 剥离核心[#1]</li>
<li>[BeiTai]<ul>
<li>Dolby TrueHD/Atmos Audio / 7.1-Atmos / 4258 kbps - 直接拷贝[#1]</li>
<li>Dolby Digital Audio / 5.1 / 448 kbps - 提取核心[#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#2]</li>
</ul>
</li>
</ul>
<p>BD</p>
<ul>
<li>[#1] Dolby TrueHD/Atmos Audio / 7.1-Atmos / 48 kHz / 4258 kbps / 24-bit (AC3 Core: 5.1 / 48 kHz / 448 kbps)</li>
<li>[评论#1] Dolby Digital Audio / 2.0 / 48 kHz / 192 kbps</li>
<li>[评论#2] Dolby Digital Audio / 2.0 / 48 kHz / 192 kbps</li>
</ul>
<p>x264-1080p</p>
<ul>
<li>[iFT] / [LoRD]<ul>
<li>Dolby Digital Plus / 7.1 / 1536 kbps - 重编码[#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#2]</li>
</ul>
</li>
<li>[HDChina] / [CHD] Dolby TrueHD/Atmos Audio / 7.1-Atmos / 4258 kbps - 直接拷贝[#1]</li>
<li>[WiKi] Dolby Digital Audio / 5.1 / 448 kbps - 提取核心[#1]</li>
</ul>
<p>x264-720p</p>
<ul>
<li>[LoRD]<ul>
<li>Dolby Digital Plus / 5.1 / 768 kbps - 重编码[#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#1]</li>
<li>Dolby Digital Audio / 2.0 / 192 kbps - 直接拷贝[评论#2]</li>
</ul>
</li>
<li>[WiKi] / [HDChina] Dolby Digital Audio / 5.1 / 448 kbps - 提取核心[#1]</li>
</ul>
<h3 id="点评"><a href="#点评" class="headerlink" title="点评"></a>点评</h3><p>基本上国外的一些高质量重编码小组倾向于对音轨也做重编码处理。国内的组基本都是直接拷贝或者提取核心。既然是做重编码，就应该往节省体积上考虑，我赞同国外组的处理方式。</p>
<h2 id="分类处理"><a href="#分类处理" class="headerlink" title="分类处理"></a>分类处理</h2><h3 id="LPCM"><a href="#LPCM" class="headerlink" title="LPCM"></a>LPCM</h3><p>许多有些年代的片子，由于当时录音设备的限制，并没有环绕声道，音轨格式为LPCM。遇到这种原盘，一般是将音轨处理为FLAC。</p>
<h3 id="REMUX"><a href="#REMUX" class="headerlink" title="REMUX"></a>REMUX</h3><p>做REMUX的时候，直接把原盘中最高规格的一或多条封装起来就行。</p>
<h3 id="UHD原盘重编码"><a href="#UHD原盘重编码" class="headerlink" title="UHD原盘重编码"></a>UHD原盘重编码</h3><p>目前来看UHD原盘的重编码还是比较少，主要是重编码可压缩的空间不大，H.265编码又费时费力。不过还是有些小组会做x265的1080p,主要的优势是比以前的x264的1080p多个HDR，而且H.265理论上压缩率更高。</p>
<p>HDB和AHD的官方组一般都会对原音轨做重编码处理，国内小组一般是直接拷贝音轨或者提core。</p>
<h3 id="BD原盘重编码"><a href="#BD原盘重编码" class="headerlink" title="BD原盘重编码"></a>BD原盘重编码</h3><p>1080p一般是用源音轨，或者提取core。720p基本是用提取的core。<br>HDB和AHD的官方组有时会用UHD的源重编码。</p>
<h2 id="core的提取"><a href="#core的提取" class="headerlink" title="core的提取"></a>core的提取</h2><p>Windows 上大家一般都是用eac3to来处理音轨，实际上所有的demux工作都是交给eac3to来处理。据说是它的兼容性最好，处理原盘基本不会出错。但是eac3to是一个闭源软件，在Linux上使用需要安装wine，而且对路径的处理也很麻烦。所以我还会考虑在Linux上的其他工具来实现eac3to的功能。</p>
<h3 id="thd-ac3"><a href="#thd-ac3" class="headerlink" title="thd+ac3"></a>thd+ac3</h3><p>Dolby TrueHD的AC-3 core其实是可以看做单独的音轨，用ffprob查看它就是分开处理的。</p>
<h4 id="ffmpeg处理"><a href="#ffmpeg处理" class="headerlink" title="ffmpeg处理"></a>ffmpeg处理</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprob 00040.m2ts</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Input #0, mpegts, from &#x27;Ant-Man.And.The.Wasp.2018.COMPLETE.UHD.BLURAY-COASTER\BDMV\STREAM\00040.m2ts&#x27;:</span><br><span class="line">  Duration: 01:58:09.50, start: 4198.166000, bitrate: 58667 kb/s</span><br><span class="line">  Program 1</span><br><span class="line">    Stream #0:0[0x1011]: Video: hevc (Main 10) (HDMV / 0x564D4448), yuv420p10le(tv, bt2020nc/bt2020/smpte2084), 3840x2160 [SAR 1:1 DAR 16:9], 23.98 fps, 23.98 tbr, 90k tbn, 23.98 tbc</span><br><span class="line">    Stream #0:1[0x1100]: Audio: truehd (AC-3 / 0x332D4341), 48000 Hz, 7.1, s32 (24 bit)</span><br><span class="line">    Stream #0:2[0x1100]: Audio: ac3 (AC-3 / 0x332D4341), 48000 Hz, 5.1(side), fltp, 640 kb/s</span><br><span class="line">    Stream #0:3[0x1101]: Audio: ac3 (AC-3 / 0x332D4341), 48000 Hz, stereo, fltp, 320 kb/s</span><br><span class="line">    Stream #0:4[0x1102]: Audio: ac3 (AC-3 / 0x332D4341), 48000 Hz, 5.1(side), fltp, 640 kb/s</span><br><span class="line">    Stream #0:5[0x1103]: Audio: eac3 (AC-3 / 0x332D4341), 48000 Hz, 7.1, fltp, 1024 kb/s</span><br><span class="line">    Stream #0:6[0x1104]: Audio: eac3 (AC-3 / 0x332D4341), 48000 Hz, 7.1, fltp, 1024 kb/s</span><br><span class="line">    Stream #0:7[0x1105]: Audio: eac3 (AC-3 / 0x332D4341), 48000 Hz, 7.1, fltp, 1024 kb/s</span><br><span class="line">    Stream #0:8[0x1106]: Audio: eac3 (AC-3 / 0x332D4341), 48000 Hz, 7.1, fltp, 1024 kb/s</span><br><span class="line">    Stream #0:9[0x12a0]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:10[0x12a1]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:11[0x12a2]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:12[0x12a3]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:13[0x12a4]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:14[0x12a5]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:15[0x12a6]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:16[0x12a7]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:17[0x12a8]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:18[0x12a9]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:19[0x12aa]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:20[0x12ab]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:21[0x12ac]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090), 1920x1080</span><br><span class="line">    Stream #0:22[0x12ad]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090)</span><br><span class="line">    Stream #0:23[0x12ae]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090)</span><br><span class="line">    Stream #0:24[0x12af]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090)</span><br><span class="line">    Stream #0:25[0x12b0]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090)</span><br><span class="line">    Stream #0:26[0x12b1]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090)</span><br></pre></td></tr></table></figure>

<p>先看一下AC-3 core音轨的编号，一般就是主音轨后面一条，码率为640 kb/s，本例中为<code>0:2</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i 00040.m2ts -map 0:2 -acodec copy core-f.ac3</span><br></pre></td></tr></table></figure>

<p>如果是想提取Dolby TrueHD音轨，本例中的<code>0:1</code>，命令是</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i 00040.m2ts -map 0:1 -acodec copy thd-f.thd</span><br></pre></td></tr></table></figure>

<h4 id="eac3to处理"><a href="#eac3to处理" class="headerlink" title="eac3to处理"></a>eac3to处理</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to [原盘目录]</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1) 00004.mpls, 00040.m2ts, 1:58:09</span><br><span class="line">   - Chapters, 18 chapters</span><br><span class="line">   - h265/HEVC, 2160p24 /1.001 (16:9)</span><br><span class="line">   - TrueHD, English, multi-channel, 48kHz</span><br><span class="line">   - AC3, English, stereo, 48kHz</span><br><span class="line">   - AC3, French, multi-channel, 48kHz</span><br><span class="line">   - E-AC3, French, multi-channel, 48kHz</span><br><span class="line">   - E-AC3, Spanish, multi-channel, 48kHz</span><br><span class="line">   - E-AC3, German, multi-channel, 48kHz</span><br><span class="line">   - E-AC3, Italian, multi-channel, 48kHz</span><br></pre></td></tr></table></figure>

<p>先看一下选出来的playlist，选出正确的编号，本例中为<code>1)</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to [原盘目录] 1)</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">M2TS, 1 video track, 7 audio tracks, 18 subtitle tracks, 1:58:09, 11.988p</span><br><span class="line">1: Chapters, 18 chapters</span><br><span class="line">2: h265/HEVC, 2160p24 /1.001 (16:9), 10 bits</span><br><span class="line">3: TrueHD/AC3 (Atmos), English, 7.1 channels, 48kHz</span><br><span class="line">   (embedded: AC3, 5.1 channels, 640kbps, 48kHz)</span><br><span class="line">4: AC3, English, 2.0 channels, 320kbps, 48kHz</span><br><span class="line">5: AC3, French, 5.1 channels, 640kbps, 48kHz</span><br><span class="line">6: E-AC3, French, 7.1 channels, 1024kbps, 48kHz</span><br><span class="line">   (core: AC3, 5.1 channels, 576kbps, 48kHz)</span><br><span class="line">7: E-AC3, Spanish, 7.1 channels, 1024kbps, 48kHz</span><br><span class="line">   (core: AC3, 5.1 channels, 576kbps, 48kHz)</span><br><span class="line">8: E-AC3, German, 7.1 channels, 1024kbps, 48kHz</span><br><span class="line">   (core: AC3, 5.1 channels, 576kbps, 48kHz)</span><br><span class="line">9: E-AC3, Italian, 7.1 channels, 1024kbps, 48kHz</span><br><span class="line">   (core: AC3, 5.1 channels, 576kbps, 48kHz)</span><br><span class="line">10: Subtitle (PGS), English</span><br><span class="line">11: Subtitle (PGS), French</span><br><span class="line">12: Subtitle (PGS), French</span><br><span class="line">13: Subtitle (PGS), Spanish</span><br><span class="line">14: Subtitle (PGS), German</span><br><span class="line">15: Subtitle (PGS), Italian</span><br><span class="line">16: Subtitle (PGS), Chinese</span><br><span class="line">17: Subtitle (PGS), Dutch</span><br><span class="line">18: Subtitle (PGS), Korean</span><br><span class="line">19: Subtitle (PGS), Norwegian</span><br><span class="line">20: Subtitle (PGS), Swedish</span><br><span class="line">21: Subtitle (PGS), Thai</span><br><span class="line">22: Subtitle (PGS), Chinese</span><br><span class="line">23: Subtitle (PGS), French</span><br><span class="line">24: Subtitle (PGS), French</span><br><span class="line">25: Subtitle (PGS), Spanish</span><br><span class="line">26: Subtitle (PGS), German</span><br><span class="line">27: Subtitle (PGS), Italian</span><br></pre></td></tr></table></figure>

<p>不同于ffmpeg的输出，thd+ac3只占用一个编号，本例中为<code>3</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to [原盘目录] 1) 3:core-e.ac3 -core</span><br></pre></td></tr></table></figure>

<p>提取Dolby TrueHD音轨不带core</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to [原盘目录] 1) 3:thd-e.thd</span><br></pre></td></tr></table></figure>

<p>提取Dolby TrueHD音轨带core</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to [原盘目录] 1) 3:thd-e.thd+ac3</span><br></pre></td></tr></table></figure>

<h4 id="比较结果"><a href="#比较结果" class="headerlink" title="比较结果"></a>比较结果</h4><p>可以用sha1计算不同工具提取出来的音轨，发现它们完全是一样的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">69333bfd66a258a1df5d4a4bdcfe212bd6dd7abc *thd-f.thd</span><br><span class="line">69333bfd66a258a1df5d4a4bdcfe212bd6dd7abc *thd-e.thd</span><br><span class="line">158d5cf77d5a18bc1f7bcfd9ad222ba1d4cfbf01 *core-f.ac3</span><br><span class="line">158d5cf77d5a18bc1f7bcfd9ad222ba1d4cfbf01 *core-e.ac3</span><br><span class="line">17931dd0d9932d8a8422e4288b80b045096b81b2 *thd-e.thd+ac3</span><br></pre></td></tr></table></figure>

<p>ffmpeg似乎是没办提取带core的Dolby TrueHD音轨，不过这并不真的重要，重编码的时候把它当两条音轨处理就好。</p>
<h3 id="DTS-HD-Master-Audio"><a href="#DTS-HD-Master-Audio" class="headerlink" title="DTS-HD Master Audio"></a>DTS-HD Master Audio</h3><p>目前我手头上并没有原盘，先给出命令，待日后补充</p>
<h4 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i 00040.m2ts -map 0:2 -bsf:a dca_core -c:a copy core-f.dts</span><br></pre></td></tr></table></figure>

<h4 id="eac3to"><a href="#eac3to" class="headerlink" title="eac3to"></a>eac3to</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to [原盘目录] 1) 3:core-f.dts -core</span><br></pre></td></tr></table></figure>

<h2 id="音频重编码"><a href="#音频重编码" class="headerlink" title="音频重编码"></a>音频重编码</h2><p>从之前的调查来看，目前比较常见的音轨重编码需求主要是把UHD原盘中的7.1声道的DTS-HD Master Audio / DTS:X / Dolby TrueHD / Atoms压缩成DDP 7.1。原因是前者实在是太大了。</p>
<p>另外就是把一些次要音频进行重编码压缩了，例如把DD 2.0压成Opus。</p>
<p>再就是把LPCM重编码成FLAC。</p>
<h3 id="DDP-7-1"><a href="#DDP-7-1" class="headerlink" title="DDP 7.1"></a>DDP 7.1</h3><p>目前开源的软件似乎还都没办法编译7.1声道的E-AC-3，必须上商业软件。ffmpeg能编码5.1声道的E-AC-3。eac3to只是一个前端，本身没有编码能力。ffmpeg关于E-AC-3更多声道的支持讨论见<a target="_blank" rel="noopener" href="https://trac.ffmpeg.org/ticket/3595">#3595</a></p>
<p>目前唯一的选择好像是在 OS X 上用 Dolby Media Producer Suite。具体的我将单独写一篇文章介绍。</p>
<h3 id="Opus"><a href="#Opus" class="headerlink" title="Opus"></a>Opus</h3><p>Opus是比较新的一个有损音频编码格式，在较低码率下的表现应该是最好的。所以推荐Opus优先于AAC。原盘里面的评论音轨一般是AC3 2.0的，可以考虑转换成Opus格式</p>
<h4 id="ffmpeg处理-1"><a href="#ffmpeg处理-1" class="headerlink" title="ffmpeg处理"></a>ffmpeg处理</h4><p>以demux出的AC3文件为输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.ac3 -c:a libopus -b:a 160 output.opus</span><br></pre></td></tr></table></figure>

<p>或者直接以源视频文件为输入，假设处理对象音轨编码为<code>0:5</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i 00040.m2ts -map 0:5 -c:a libopus -b:a 160 output.opus</span><br></pre></td></tr></table></figure>

<h4 id="eac3to处理-1"><a href="#eac3to处理-1" class="headerlink" title="eac3to处理"></a>eac3to处理</h4><p>eac3to只是充当一个解码的角色，eac3to解码AC3时实际调用ffmpeg或者Nero解码器（须另外安装，不推荐）</p>
<p>先解码输出wav格式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to input.ac3 stdout.wav</span><br></pre></td></tr></table></figure>

<p>eac3to在处理AC3的时候不会把各个声道分别输出，这点不同于TrueHD。然后用Opus编码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">opusenc --bitrate 160 stdout.wav output.opus</span><br></pre></td></tr></table></figure>

<p>也可以直接pipe</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eac3to input.ac3 stdout.wav | opusenc --bitrate 160 - output.opus</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/audio-encode/" rel="tag"># audio.encode</a>
              <a href="/tags/dolby/" rel="tag"># dolby</a>
              <a href="/tags/ffmpeg/" rel="tag"># ffmpeg</a>
              <a href="/tags/eac3to/" rel="tag"># eac3to</a>
              <a href="/tags/opus/" rel="tag"># opus</a>
              <a href="/tags/dts/" rel="tag"># dts</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/03/25/cygwin-rsync/" rel="prev" title="Cygwin使用笔记">
                  <i class="fa fa-chevron-left"></i> Cygwin使用笔记
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/03/27/eac3-encode-osx/" rel="next" title="Dolby Media Producer Suite编码E-AC-3（OS X虚拟机）">
                  Dolby Media Producer Suite编码E-AC-3（OS X虚拟机） <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">enigmaz</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
